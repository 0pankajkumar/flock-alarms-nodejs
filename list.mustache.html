<!DOCTYPE html>
<html>
  <head>
    <title>Alarms</title>
  </head>
  <body>
    {{#alarms.length}}
    <ul>
      {{#alarms}}
      <li>{{text}}<br><i>{{timeString}}</i></li>
      {{/alarms}}
    </ul>
    {{/alarms.length}}
    {{^alarms.length}}
    <p>No alarms set</p>
    {{/alarms.length}}

    <input class="typeahead" />
    <div id="sltd"></div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="http://twitter.github.com/typeahead.js/releases/latest/typeahead.bundle.min.js" crossorigin="anonymous"></script>







    <script>
      var stocksData = [
        {
            "company_name": "Facebook",
            "code": "fb",
        },
        {
            "company_name": "Google",
            "code": "goog",
        },
        {
            "company_name": "Yahoo",
            "code": "yhoo",
        },
        {
            "company_name": "Apple",
            "code": "aapl",
        },
        {
            "company_name": "Royal Mail",
            "code": "rmg.l",
        },
     ];
    
    var stocks = new Bloodhound({
            datumTokenizer: Bloodhound.tokenizers.obj.whitespace('company_name'),
            queryTokenizer: Bloodhound.tokenizers.whitespace,
            local: stocksData
        });

        stocks.initialize();

        $('.typeahead').typeahead(
            null, {
            name: 'stocks',
            displayKey: 'company_name',
            source: stocks.ttAdapter()
        }).on('typeahead:selected', function(event, data){            
            $('.typeahead').val(data.code); 
            console.log(data);
            document.getElementById('sltd').innerHTML = data.code;
        });

    </script>
  </body>
</html>
